# CMSå¤šè¯­è¨€åŠŸèƒ½è¯´æ˜

## åŠŸèƒ½æ¦‚è¿°

CMSç³»ç»Ÿå·²æˆåŠŸå¢åŠ ä¸­è‹±æ–‡åˆ‡æ¢åŠŸèƒ½ï¼Œç”¨æˆ·å¯ä»¥åœ¨ä¸­æ–‡å’Œè‹±æ–‡ä¹‹é—´è‡ªç”±åˆ‡æ¢ï¼Œæä¾›æ›´å¥½çš„ç”¨æˆ·ä½“éªŒã€‚

## æ”¯æŒçš„è¯­è¨€

- **ä¸­æ–‡ï¼ˆç®€ä½“ï¼‰** - zh_CNï¼ˆé»˜è®¤è¯­è¨€ï¼‰
- **è‹±æ–‡ï¼ˆç¾å›½ï¼‰** - en_US

## è¯­è¨€åˆ‡æ¢æ–¹å¼

### 1. å¯¼èˆªæ è¯­è¨€åˆ‡æ¢å™¨
- ç‚¹å‡»å¯¼èˆªæ å³ä¾§çš„åœ°çƒå›¾æ ‡
- ä»ä¸‹æ‹‰èœå•é€‰æ‹©æ‰€éœ€è¯­è¨€ï¼ˆğŸ‡¨ğŸ‡³ ä¸­æ–‡ æˆ– ğŸ‡¬ğŸ‡§ Englishï¼‰
- é€‰æ‹©åç«‹å³ç”Ÿæ•ˆï¼Œé¡µé¢åˆ·æ–°åä¿æŒæ‰€é€‰è¯­è¨€

### 2. URLå‚æ•°åˆ‡æ¢
- è‹±æ–‡ï¼šhttp://localhost:8080/set_language/en
- ä¸­æ–‡ï¼šhttp://localhost:8080/set_language/zh_CN
- åˆ‡æ¢åä¼šé‡å®šå‘å›ä¸Šä¸€é¡µ

### 3. æµè§ˆå™¨è¯­è¨€åå¥½
- ç³»ç»Ÿä¼šè‡ªåŠ¨æ£€æµ‹æµè§ˆå™¨è¯­è¨€è®¾ç½®
- ä¼˜å…ˆçº§ï¼šç”¨æˆ·é€‰æ‹© > session > æµè§ˆå™¨è®¾ç½® > é»˜è®¤ä¸­æ–‡

## æŠ€æœ¯å®ç°

### å·²æ·»åŠ çš„ä¾èµ–
```
Flask-Babel==4.0.0
```

### æ ¸å¿ƒæ–‡ä»¶

1. **app.py** - åç«¯å›½é™…åŒ–æ”¯æŒ
   - é…ç½®Babelå›½é™…åŒ–
   - è¯­è¨€é€‰æ‹©å™¨å‡½æ•°
   - è¯­è¨€åˆ‡æ¢è·¯ç”±

2. **templates/base.html** - å‰ç«¯æ¨¡æ¿
   - æ·»åŠ è¯­è¨€åˆ‡æ¢å™¨UI
   - ä½¿ç”¨{% trans %}æ ‡ç­¾æ ‡è®°ç¿»è¯‘æ–‡æœ¬

3. **babel.cfg** - ç¿»è¯‘é…ç½®æ–‡ä»¶
   - æŒ‡å®šéœ€è¦æå–ç¿»è¯‘çš„æ–‡ä»¶

4. **translations/** - ç¿»è¯‘æ–‡ä»¶ç›®å½•
   - `zh_CN/LC_MESSAGES/` - ä¸­æ–‡ç¿»è¯‘
   - `en_US/LC_MESSAGES/` - è‹±æ–‡ç¿»è¯‘
   - `messages.pot` - ç¿»è¯‘æ¨¡æ¿æ–‡ä»¶

### ç¿»è¯‘ç®¡ç†å‘½ä»¤

```bash
# æå–ç¿»è¯‘æ–‡æœ¬
pybabel extract -F babel.cfg -o messages.pot .

# åˆå§‹åŒ–æ–°è¯­è¨€
pybabel init -i messages.pot -d translations -l <è¯­è¨€ä»£ç >

# ç¼–è¯‘ç¿»è¯‘æ–‡ä»¶
pybabel compile -d translations

# æ›´æ–°ç¿»è¯‘ï¼ˆæ·»åŠ æ–°æ–‡æœ¬åï¼‰
pybabel update -i messages.pot -d translations
```

## å·²ç¿»è¯‘çš„æ–‡æœ¬

ç›®å‰å·²ç¿»è¯‘çš„æ–‡æœ¬åŒ…æ‹¬ï¼š
- ç®¡ç†åå° / Admin Panel
- å…³äºCMS / About CMS
- è¿™æ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„å†…å®¹ç®¡ç†ç³»ç»Ÿï¼Œæ”¯æŒæ–‡ç« ã€è§†é¢‘å’Œå›¾ç‰‡ç®¡ç†ã€‚/ This is a fully functional content management system supporting articles, videos, and image management.
- è”ç³»æˆ‘ä»¬ / Contact Us
- ä¿ç•™æ‰€æœ‰æƒåˆ© / All rights reserved

## æ‰©å±•ç¿»è¯‘

### æ·»åŠ æ–°ç¿»è¯‘æ–‡æœ¬

1. **åœ¨Pythonä»£ç ä¸­**ï¼š
```python
from flask_babel import gettext
# ä½¿ç”¨ç¿»è¯‘å‡½æ•°
message = gettext("éœ€è¦ç¿»è¯‘çš„æ–‡æœ¬")
```

2. **åœ¨æ¨¡æ¿ä¸­**ï¼š
```html
<!-- ç®€å•æ–‡æœ¬ -->
{% trans %}éœ€è¦ç¿»è¯‘çš„æ–‡æœ¬{% endtrans %}

<!-- å¸¦å˜é‡çš„æ–‡æœ¬ -->
{% trans %}Hello {{ name }}{% endtrans %}
```

3. **æå–å’Œç¼–è¯‘**ï¼š
```bash
pybabel extract -F babel.cfg -o messages.pot .
pybabel compile -d translations
```

### ç¿»è¯‘æ–‡ä»¶ä½ç½®

- ä¸­æ–‡ï¼š`translations/zh_CN/LC_MESSAGES/messages.po`
- è‹±æ–‡ï¼š`translations/en_US/LC_MESSAGES/messages.po`

ç¼–è¾‘.poæ–‡ä»¶ï¼Œåœ¨msgsträ¸­æ·»åŠ ç¿»è¯‘å†…å®¹ï¼Œç„¶åé‡æ–°ç¼–è¯‘ã€‚

## ä½¿ç”¨ç¤ºä¾‹

### æ·»åŠ æ›´å¤šå¯¼èˆªæ ç¿»è¯‘

ä¾‹å¦‚ï¼Œä¿®æ”¹templatesä¸­çš„èœå•é¡¹ï¼š
```html
<!-- ä¿®æ”¹å‰ -->
<a class="nav-link">é¦–é¡µ</a>

<!-- ä¿®æ”¹å -->
<a class="nav-link">{% trans %}é¦–é¡µ{% endtrans %}</a>
```

ç„¶åæå–ç¿»è¯‘å¹¶æ·»åŠ ä¸­æ–‡/è‹±æ–‡ç¿»è¯‘å³å¯ã€‚

## æ³¨æ„äº‹é¡¹

1. ç¿»è¯‘æ–‡ä»¶ä¿®æ”¹åéœ€è¦é‡æ–°ç¼–è¯‘ï¼š`pybabel compile -d translations`
2. å¼€å‘ç¯å¢ƒä¸‹ä¿®æ”¹ç¿»è¯‘æ–‡ä»¶éœ€è¦é‡å¯åº”ç”¨ç”Ÿæ•ˆ
3. ç”Ÿäº§ç¯å¢ƒåº”ä½¿ç”¨.wsgiæœåŠ¡å™¨è€Œéå¼€å‘æœåŠ¡å™¨
4. å»ºè®®ä½¿ç”¨Gitç®¡ç†ç¿»è¯‘æ–‡ä»¶ï¼Œ.poå’Œ.moæ–‡ä»¶éƒ½åº”æäº¤

## æµè§ˆå™¨å…¼å®¹æ€§

æ”¯æŒæ‰€æœ‰ç°ä»£æµè§ˆå™¨ï¼š
- Chrome/Edge (Chromium)
- Firefox
- Safari
- Opera

## æ€§èƒ½å½±å“

- ç¿»è¯‘æ–‡ä»¶åŠ è½½å½±å“æå°ï¼ˆ.moæ–‡ä»¶å·²ç¼–è¯‘ï¼‰
- å†…å­˜å ç”¨ï¼šæ¯ç§è¯­è¨€çº¦å‡ KB
- æ¨èåœ¨ç”Ÿäº§ç¯å¢ƒä¸­å¯ç”¨ç¼“å­˜

## ä¸‹ä¸€æ­¥è®¡åˆ’

1. æ·»åŠ æ›´å¤šæ–‡æœ¬çš„ç¿»è¯‘
2. æ”¯æŒæ›´å¤šè¯­è¨€ï¼ˆå¦‚ç¹ä½“ä¸­æ–‡ã€æ—¥è¯­ã€éŸ©è¯­ï¼‰
3. æ·»åŠ è¯­è¨€åˆ‡æ¢çš„åŠ¨ç”»æ•ˆæœ
4. è‡ªåŠ¨æ£€æµ‹å¹¶å»ºè®®ç”¨æˆ·è¯­è¨€

## æµ‹è¯•

æµ‹è¯•è¯­è¨€åˆ‡æ¢åŠŸèƒ½ï¼š
```bash
# å¯åŠ¨åº”ç”¨
python app.py

# è®¿é—®é¦–é¡µï¼ˆé»˜è®¤ä¸­æ–‡ï¼‰
curl http://localhost:8080/

# åˆ‡æ¢åˆ°è‹±æ–‡
curl http://localhost:8080/set_language/en

# éªŒè¯è‹±æ–‡æ˜¾ç¤º
curl -b sessionä¿¡æ¯ http://localhost:8080/
```
