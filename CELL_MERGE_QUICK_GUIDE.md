# 单元格合并功能 - 快速使用指南

## 🚀 一分钟上手

### 第1步: 选择单元格
```
👆 点击单元格 (单选)
⌨️ Ctrl/Cmd + 点击 (多选)
```
**看到✓标识表示已选中**

### 第2步: 合并单元格
```
🟢 点击"合并单元格"按钮
```
**要求: 至少选择2个单元格，且形成矩形**

### 第3步: 查看结果
```
✨ 单元格已合并！
📏 右下角显示尺寸 (如: 2x2)
```

### 第4步: 保存
```
💾 点击"保存网格"按钮
```

---

## 📖 详细教程

### 选择单元格

#### 方法1: 单选
- **操作**: 直接点击单元格
- **效果**: 该单元格显示蓝色边框和✓标识
- **适用**: 选择单个单元格

#### 方法2: 多选
- **操作**: 按住 `Ctrl` (Windows) 或 `Cmd` (Mac) + 点击单元格
- **效果**: 多个单元格同时显示选中状态
- **适用**: 选择多个单元格进行合并

#### 方法3: 清除选择
- **操作**: 点击空白区域或按 `Esc`
- **效果**: 所有选中状态清除

### 合并单元格

#### 场景示例: 合并2x2区域

**原始网格**:
```
[A][B][C]
[D][E][F]
[G][H][I]
```

**操作步骤**:
1. 选择 `B`, `C`, `E`, `F` 四个单元格
   ```
   [A][✓][✓]
   [D][✓][✓]
   [G][H][I]
   ```
2. 点击"合并单元格"按钮
3. 查看结果

**合并后**:
```
[A][    BC合并区域    ]
[D][    EF合并区域    ]
[G][H][I]
```

#### 验证规则 ✅
- ✅ 选择的是矩形区域
- ✅ 至少2个单元格
- ✅ 不与现有合并单元格重叠

#### 常见错误 ❌
- ❌ 选择L形区域 (必须矩形)
- ❌ 选择散乱单元格
- ❌ 选择已合并的单元格

### 取消合并

#### 取消单个合并区域
1. 点击已合并的单元格任意位置
2. 点击"取消合并"按钮
3. 单元格拆分回原始状态

**示例**:
```
[    合并区域    ]  ← 点击此区域
[内容A][内容B]      ← 取消合并后
```

---

## 🎨 实际应用场景

### 场景1: 创建大标题

**目标布局**:
```
[     大标题区域     ]
[副标题][内容][按钮]
[内容A][内容B][内容C]
```

**操作**:
1. 选择第一行所有3个单元格
2. 合并单元格
3. 添加文本元素

### 场景2: 创建侧边栏

**目标布局**:
```
[主内容  ][侧边栏]
[主内容  ][侧边栏]
[主内容  ][侧边栏]
```

**操作**:
1. 选择右侧两列的所有3行单元格
2. 合并单元格
3. 添加侧边栏内容

### 场景3: 创建全宽横幅

**目标布局**:
```
[    全宽横幅图片    ]
[文本A][文本B][文本C][文本D]
```

**操作**:
1. 选择第一行所有4个单元格
2. 合并单元格
3. 添加图片元素

---

## ⚙️ 操作技巧

### 技巧1: 快速选择矩形
1. 点击左上角单元格
2. 按住Shift + 点击右下角单元格
3. 自动选中矩形区域内的所有单元格

### 技巧2: 撤销操作
- **撤销合并**: 选择合并单元格 → 点击"取消合并"
- **撤销选择**: 点击空白处或按Esc键

### 技巧3: 查看尺寸信息
- 合并单元格右下角显示尺寸标识
- 格式: `列数x行数` (如: `3x2` 表示3列2行)

---

## 🎯 最佳实践

### ✅ 推荐做法
1. **先规划布局**: 绘制网格草图再操作
2. **从小到大**: 先创建小合并，再扩展
3. **及时保存**: 每次合并后立即保存
4. **测试预览**: 保存后查看前台效果

### ❌ 避免操作
1. 避免创建过大的合并区域 (>5x5)
2. 避免嵌套合并区域
3. 避免在已合并区域上再次合并
4. 避免忽略保存

---

## 🔍 故障排除

### 问题1: 按钮是灰色的
**原因**: 选择的单元格不符合合并条件
**解决**: 
- 确保至少选择了2个单元格
- 确保形成矩形区域
- 确保未选择已合并单元格

### 问题2: 合并后内容消失了
**原因**: 合并时只保留了主单元格的内容
**解决**: 
- 取消合并不会恢复已删除的内容
- 建议合并前备份内容

### 问题3: 保存后合并效果消失
**原因**: 浏览器缓存或保存失败
**解决**: 
- 刷新页面重试
- 检查是否正确点击保存
- 查看浏览器控制台错误

---

## 📱 测试新功能

### 测试路径
```
http://localhost:8080/admin/dynamic-pages
↓
选择一个页面 → 点击"编辑"
↓
拖拽几个元素到网格 → 测试合并功能
```

### 完整测试流程
1. **基础测试**
   - [ ] 选择单个单元格
   - [ ] 多选单元格
   - [ ] 清除选择

2. **合并测试**
   - [ ] 合并2个单元格
   - [ ] 合并2x2区域
   - [ ] 合并3x3区域
   - [ ] 合并包含元素的单元格

3. **取消合并测试**
   - [ ] 取消2x2合并
   - [ ] 取消3x3合并

4. **保存测试**
   - [ ] 保存网格
   - [ ] 刷新页面
   - [ ] 验证合并效果保持

---

## 💡 提示

### 选择提示
- 选中的单元格有蓝色边框和✓
- 合并单元格有灰色边框和尺寸标识
- 拖拽操作与选择功能可以配合使用

### 性能提示
- 合并单元格会增加页面复杂度
- 建议合理使用，避免过多合并
- 大量内容建议分区域管理

---

## 🎉 开始使用吧！

现在您已经掌握了单元格合并的所有知识，开始创建更灵活的布局吧！

**记住**:
- 👆 点击选择
- ⌨️ Ctrl/Cmd 多选
- 🟢 合并按钮
- 🟡 取消合并按钮
- 💾 保存网格

---
**快速指南版本**: v1.0
