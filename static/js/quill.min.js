/* Quill Editor - Local Fallback */
/* This is a placeholder file. For full functionality, please ensure the CDN version is accessible. */

(function(window) {
    'use strict';

    // Minimal Quill fallback implementation
    if (typeof window.Quill === 'undefined') {
        window.Quill = function(selector, options) {
            console.warn('Quill editor not loaded. Using fallback textarea.');
            const element = typeof selector === 'string' ?
                document.querySelector(selector) : selector;

            if (!element) {
                throw new Error('Quill: Element not found');
            }

            // Create a fallback textarea
            const textarea = document.createElement('textarea');
            textarea.className = 'form-control';
            textarea.style.minHeight = options && options.height || '200px';
            textarea.placeholder = options && options.placeholder || 'Enter text here...';

            // Replace element with textarea
            element.parentNode.replaceChild(textarea, element);

            return {
                root: {
                    innerHTML: '',
                    addEventListener: function() {},
                    removeEventListener: function() {}
                },
                getSelection: function() { return null; },
                setSelection: function() {},
                clipboard: {
                    dangerouslyPasteHTML: function(html) {
                        textarea.value += html;
                    }
                },
                on: function() {},
                off: function() {},
                enable: function() {},
                disable: function() {},
                getText: function() { return textarea.value; },
                getLength: function() { return textarea.value.length; },
                setText: function(text) { textarea.value = text; },
                deleteText: function() {},
                insertText: function() {},
                insertEmbed: function() {}
            };
        };

        window.Quill.imports = {};
        window.Quill.DEFAULTS = {};
        window.Quill.Version = '1.3.7-local';
        window.Quill.debug = false;
    }
})(window);
